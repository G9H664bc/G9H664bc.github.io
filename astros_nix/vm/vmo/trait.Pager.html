<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Pagers provide frame to a VMO."><title>Pager in astros_nix::vm::vmo - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-cf3c48c1.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="astros_nix" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0-nightly (854f22563 2025-01-31)" data-channel="nightly" data-search-js="search-2d513d54.js" data-settings-js="settings-6dad6058.js" ><script src="../../../static.files/storage-302de22f.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-9b5d7e41.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../astros_nix/index.html">astros_<wbr>nix</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Pager</a></h2><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.commit_overwrite" title="commit_overwrite">commit_overwrite</a></li><li><a href="#tymethod.commit_page" title="commit_page">commit_page</a></li><li><a href="#tymethod.decommit_page" title="decommit_page">decommit_page</a></li><li><a href="#tymethod.update_page" title="update_page">update_page</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In astros_<wbr>nix::<wbr>vm::<wbr>vmo</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">astros_nix</a>::<wbr><a href="../index.html">vm</a>::<wbr><a href="index.html">vmo</a></div><h1>Trait <span class="trait">Pager</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/astros_nix/vm/vmo/pager.rs.html#16-58">Source</a> </span></div><pre class="rust item-decl"><code>pub trait Pager: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> {
    // Required methods
    fn <a href="#tymethod.commit_page" class="fn">commit_page</a>(&amp;self, idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../../../kstd/mm/frame/untyped/type.UFrame.html" title="type kstd::mm::frame::untyped::UFrame">UFrame</a>, <a class="struct" href="../../error/struct.Error.html" title="struct astros_nix::error::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.update_page" class="fn">update_page</a>(&amp;self, idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.unit.html">()</a>, <a class="struct" href="../../error/struct.Error.html" title="struct astros_nix::error::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.decommit_page" class="fn">decommit_page</a>(&amp;self, idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.unit.html">()</a>, <a class="struct" href="../../error/struct.Error.html" title="struct astros_nix::error::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.commit_overwrite" class="fn">commit_overwrite</a>(&amp;self, idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../../../kstd/mm/frame/untyped/type.UFrame.html" title="type kstd::mm::frame::untyped::UFrame">UFrame</a>, <a class="struct" href="../../error/struct.Error.html" title="struct astros_nix::error::Error">Error</a>&gt;;
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Pagers provide frame to a VMO.</p>
<p>A <code>Pager</code> object can be attached to a VMO. Whenever the
VMO needs more frames (i.e., on commits), it will turn to the pager,
which should then provide frames whose data have been initialized properly.
Any time a frame is updated through the VMO, the VMO will
notify the attached pager that the frame has been updated.
Finally, when a frame is no longer needed (i.e., on decommits),
the frame pager will also be notified.</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">ยง</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.commit_page" class="method"><a class="src rightside" href="../../../src/astros_nix/vm/vmo/pager.rs.html#29">Source</a><h4 class="code-header">fn <a href="#tymethod.commit_page" class="fn">commit_page</a>(&amp;self, idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../../../kstd/mm/frame/untyped/type.UFrame.html" title="type kstd::mm::frame::untyped::UFrame">UFrame</a>, <a class="struct" href="../../error/struct.Error.html" title="struct astros_nix::error::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Ask the pager to provide a frame at a specified index.</p>
<p>After a page of a VMO is committed, the VMO shall not call this method
again until the page is decommitted. But a robust implementation of
<code>Pager</code> should not rely on this behavior for its correctness;
instead, it should returns the <em>same</em> frame.</p>
<p>If a VMO page has been previously committed and decommited,
and is to be committed again, then the pager is free to return
whatever frame that may or may not be the same as the last time.</p>
<p>It is up to the pager to decide the range of valid indices.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.update_page" class="method"><a class="src rightside" href="../../../src/astros_nix/vm/vmo/pager.rs.html#41">Source</a><h4 class="code-header">fn <a href="#tymethod.update_page" class="fn">update_page</a>(&amp;self, idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.unit.html">()</a>, <a class="struct" href="../../error/struct.Error.html" title="struct astros_nix::error::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Notify the pager that the frame at a specified index has been updated.</p>
<p>Being aware of the updates allow the pager (e.g., an inode) to
know which pages are dirty and only write back the <em>dirty</em> pages back
to disk.</p>
<p>The VMO will not call this method for an uncommitted page.
But a robust implementation of <code>Pager</code> should not make
such an assumption for its correctness; instead, it should simply ignore the
call or return an error.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.decommit_page" class="method"><a class="src rightside" href="../../../src/astros_nix/vm/vmo/pager.rs.html#52">Source</a><h4 class="code-header">fn <a href="#tymethod.decommit_page" class="fn">decommit_page</a>(&amp;self, idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.unit.html">()</a>, <a class="struct" href="../../error/struct.Error.html" title="struct astros_nix::error::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Notify the pager that the frame at the specified index has been decommitted.</p>
<p>Knowing that a frame is no longer needed, the pager (e.g., an inode)
can free the frame after writing back its data to the disk.</p>
<p>The VMO will not call this method for an uncommitted page.
But a robust implementation of <code>Pager</code> should not make
such an assumption for its correctness; instead, it should simply ignore the
call or return an error.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.commit_overwrite" class="method"><a class="src rightside" href="../../../src/astros_nix/vm/vmo/pager.rs.html#57">Source</a><h4 class="code-header">fn <a href="#tymethod.commit_overwrite" class="fn">commit_overwrite</a>(&amp;self, idx: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.usize.html">usize</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="../../../kstd/mm/frame/untyped/type.UFrame.html" title="type kstd::mm::frame::untyped::UFrame">UFrame</a>, <a class="struct" href="../../error/struct.Error.html" title="struct astros_nix::error::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Ask the pager to provide a frame at a specified index.
Notify the pager that the frame will be fully overwritten soon, so pager can
choose not to initialize it.</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">ยง</a></h2><div id="implementors-list"></div><script src="../../../trait.impl/astros_nix/vm/vmo/pager/trait.Pager.js" async></script></section></div></main></body></html>