<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A safe Rust Ext2 filesystem."><title>astros_nix::fs::ext2 - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-cf3c48c1.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="astros_nix" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0-nightly (854f22563 2025-01-31)" data-channel="nightly" data-search-js="search-2d513d54.js" data-settings-js="settings-6dad6058.js" ><script src="../../../static.files/storage-302de22f.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-9b5d7e41.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../astros_nix/index.html">astros_<wbr>nix</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module ext2</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#example" title="Example">Example</a></li><li><a href="#limitation" title="Limitation">Limitation</a></li></ul><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#constants" title="Constants">Constants</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In astros_<wbr>nix::<wbr>fs</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">astros_nix</a>::<wbr><a href="../index.html">fs</a></div><h1>Module <span>ext2</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/astros_nix/fs/ext2/mod.rs.html#3-53">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A safe Rust Ext2 filesystem.</p>
<p>The Second Extended File System(Ext2) is a major rewrite of the Ext filesystem.
It is the predominant filesystem in use by Linux from the early 1990s to the early 2000s.
The structures of Ext3 and Ext4 are based on Ext2 and add some additional options
such as journaling.</p>
<p>The features of this version of Ext2 are as follows:</p>
<ol>
<li>No unsafe Rust. The filesystem is written is Rust without any unsafe code,
ensuring that there are no memory safety issues in the code.</li>
<li>Deep integration with PageCache. The data and metadata of the filesystem are
stored in PageCache, which accelerates the performance of data access.</li>
<li>Compatible with queue-based block device. The filesystem can submits multiple
BIO requests to be block device at once, thereby enhancing I/O performance.</li>
</ol>
<h2 id="example"><a class="doc-anchor" href="#example">ยง</a>Example</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Opens an Ext2 from the block device.
</span><span class="kw">let </span>ext2 = Ext2::open(block_device)<span class="question-mark">?</span>;
<span class="comment">// Lookup the root inode.
</span><span class="kw">let </span>root = ext2.root_inode()<span class="question-mark">?</span>;
<span class="comment">// Create a file inside root directory.
</span><span class="kw">let </span>file = root.create(<span class="string">"file"</span>, InodeType::File, FilePerm::from_bits_truncate(<span class="number">0o666</span>))<span class="question-mark">?</span>;
<span class="comment">// Write data into the file.
</span><span class="kw">const </span>WRITE_DATA: <span class="kw-2">&amp;</span>[u8] = <span class="string">b"Hello, World"</span>;
<span class="kw">let </span>len = file.write_at(<span class="number">0</span>, WRITE_DATA)<span class="question-mark">?</span>;
<span class="macro">assert!</span>(len == WRITE_DATA.len());</code></pre></div>
<h2 id="limitation"><a class="doc-anchor" href="#limitation">ยง</a>Limitation</h2>
<p>Here we summarizes the features that need to be implemented in the future.</p>
<ol>
<li>Supports merging small read/write operations.</li>
<li>Handles the intermediate failure status correctly.</li>
</ol>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">ยง</a></h2><dl class="item-table"><dt><a class="struct" href="struct.Ext2.html" title="struct astros_nix::fs::ext2::Ext2">Ext2</a></dt><dd>The Ext2 filesystem.</dd><dt><a class="struct" href="struct.FilePerm.html" title="struct astros_nix::fs::ext2::FilePerm">File<wbr>Perm</a></dt><dt><a class="struct" href="struct.Inode.html" title="struct astros_nix::fs::ext2::Inode">Inode</a></dt><dd>The Ext2 inode.</dd><dt><a class="struct" href="struct.SuperBlock.html" title="struct astros_nix::fs::ext2::SuperBlock">Super<wbr>Block</a></dt><dd>The in-memory rust superblock.</dd></dl><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">ยง</a></h2><dl class="item-table"><dt><a class="constant" href="constant.MAGIC_NUM.html" title="constant astros_nix::fs::ext2::MAGIC_NUM">MAGIC_<wbr>NUM</a></dt><dd>The magic number of Ext2.</dd></dl></section></div></main></body></html>